# BALANCED Intel Mac Configuration - All Features Enabled but Optimized
# Prevents overheating while maintaining full functionality

# === ENVIRONMENT ===
ENVIRONMENT=development

# === DATABASE CONFIGURATION ===
DB_HOST=localhost
DB_PORT=5432
DB_NAME=explainium
DB_USER=postgres
DB_PASSWORD=postgres

# === REDIS CONFIGURATION ===
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# === PROCESSING CONFIGURATION - BALANCED ===
UPLOAD_DIRECTORY=uploaded_files
MAX_FILE_SIZE_MB=25
BATCH_SIZE=1
PARALLEL_PROCESSING=false
CELERY_CONCURRENCY=1

# Keep all features but optimize
ENABLE_OCR=true
ENABLE_AUDIO_PROCESSING=true
ENABLE_SCENE_DETECTION=true

# === AI CONFIGURATION - OPTIMIZED FOR INTEL MAC ===
SPACY_MODEL=en_core_web_sm
WHISPER_MODEL=base
CONFIDENCE_THRESHOLD=0.7

# Keep AI features but optimize
ENABLE_CLIP=true
ENABLE_LAYOUT_DETECTION=true
ENABLE_SPEAKER_DIARIZATION=false

# Intel Mac optimizations
ENABLE_GPU=false

# === API CONFIGURATION ===
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=false
CORS_ORIGINS=*
MAX_REQUEST_SIZE=26214400
RATE_LIMIT=20

# === EXTERNAL SERVICES ===
TIKA_HOST=localhost
TIKA_PORT=9998
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200

# === SECURITY ===
SECRET_KEY=intel_mac_balanced_key_2024_explainium_optimized
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
ENABLE_HTTPS=false

# === LOGGING ===
LOG_LEVEL=INFO
LOG_ENABLE_CONSOLE=true
PRINT_CONFIG_SUMMARY=false

# === INTEL MAC PERFORMANCE OPTIMIZATIONS ===
# Limit threading but don't disable features
PYTORCH_NUM_THREADS=2
OMP_NUM_THREADS=2
MKL_NUM_THREADS=2
NUMEXPR_MAX_THREADS=2

# Memory management for 8GB RAM
PYTORCH_MPS_HIGH_WATERMARK_RATIO=0.0
PYTORCH_ENABLE_MPS_FALLBACK=1

# Smart loading - delay heavy model loading until needed
EXPLAINIUM_LAZY_LOADING=true
EXPLAINIUM_INTEL_MAC_MODE=true

# Batch processing optimization
EXPLAINIUM_SEQUENTIAL_PROCESSING=true
